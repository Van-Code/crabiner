<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Browse Posts - Crabiner</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <!-- Top Navigation Bar -->
    <nav class="top-nav">
      <div class="container nav-container">
        <div class="logo">
          <a href="/">
            <span class="logo-emoji">ğŸ¦”ğŸ’•</span>
            <span class="logo-text">Crabiner</span>
          </a>
        </div>

        <div class="nav-links">
          <a href="/browse.html" class="nav-link active">Browse</a>
          <a href="/guidelines.html" class="nav-link">Guidelines</a>

          <div id="authSection" class="auth-section">
            <!-- Populated by JavaScript -->
          </div>
        </div>
      </div>
    </nav>

    <main class="browse-page">
      <div class="container">
        <div class="page-header">
          <h1>Browse Missed Connections ğŸ’•</h1>
          <p>Find your connection or post your own!</p>
        </div>

        <section class="filters">
          <input
            type="text"
            id="searchQuery"
            placeholder="Search posts (e.g., 'coffee shop', 'dog park')..."
          />
          <input
            type="text"
            id="locationFilter"
            placeholder="Filter by location..."
            list="locationSuggestions"
          />
          <datalist id="locationSuggestions"></datalist>
          <select id="categoryFilter">
            <option value="">All categories</option>
            <option value="coffee-shop">Coffee Shop</option>
            <option value="transit">Transit</option>
            <option value="bar">Bar/Club</option>
            <option value="bookstore">Bookstore</option>
            <option value="gym">Gym</option>
            <option value="event">Event</option>
            <option value="other">Other</option>
          </select>
          <button id="searchBtn">ğŸ” Search</button>
          <button id="clearBtn" class="btn-secondary">Clear</button>
        </section>

        <!-- Popular searches -->
        <div
          id="popularSearches"
          class="popular-searches"
          style="display: none"
        >
          <p><strong>Popular searches:</strong></p>
          <div id="popularSearchesList"></div>
        </div>

        <div class="browse-with-sidebar">
          <div class="browse-main">
            <section id="posts" class="posts-grid">
              <p class="loading">Loading posts...</p>
            </section>

            <div class="pagination">
              <button id="prevPage" disabled>â† Previous</button>
              <span id="pageInfo">Page 1</span>
              <button id="nextPage">Next â†’</button>
            </div>
          </div>

          <aside class="browse-sidebar">
            <div class="sidebar-section">
              <h3>Browse by location ğŸ“</h3>
              <div id="popularLocationsList" class="location-tags">
                <p class="loading">Loading locations...</p>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </main>

    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h4>ğŸ¦” Crabiner</h4>
            <p>A safe space for sapphic missed connections</p>

            <!-- Ko-fi button -->
            <div class="kofi-container">
              <a href="https://ko-fi.com/W7W71P0PEN" target="_blank">
                <img
                  height="36"
                  style="border: 0px; height: 36px"
                  src="https://storage.ko-fi.com/cdn/kofi4.png?v=6"
                  border="0"
                  alt="Buy Me a Coffee at ko-fi.com"
                />
              </a>
              <p class="kofi-text">Help keep this site running! â˜•</p>
            </div>
          </div>

          <div class="footer-section">
            <h4>Quick Links</h4>
            <a href="/browse.html">Browse Posts</a>
            <a href="/post.html">Post a Connection</a>
            <a href="/guidelines.html">Community Guidelines</a>
          </div>

          <div class="footer-section">
            <h4>About</h4>
            <p>Privacy-focused â€¢ No tracking â€¢ Auto-expiring posts</p>
            <p>Made with ğŸ’• for the sapphic community</p>
          </div>
        </div>

        <div class="footer-bottom">
          <p>
            &copy; 2025 Crabiner. Built with care for queer women &
            nonbinary folks. ğŸ³ï¸â€ğŸŒˆ
          </p>
        </div>
      </div>
    </footer>

    <script src="/scripts/auth.js"></script>
    <script src="/scripts/app.js"></script>
  </body>
</html>
